<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
        <title>中華民國制省等級</title>

        <style>
            html, body {
                margin: 0;
                padding: 0;
                width: 100%;
                height: 100%;
                overflow: hidden;
            }

            body {
                background: #b4def7;
                text-align: center;
            }

            #roc-obj {
                display: inline-block;
            }

            @media screen and (min-width: 100vh) {
                /* The width is greater than the height */
                #roc-obj {
                    height: 100%;
                }
            }
            @media screen and (max-width: 100vh) {
                /* The width is smaller than the height */
                #roc-obj {
                    width: 100%;
                }
            }
        </style>
    </head>

    <body>
        <object id="roc-obj" data="roc.svg"> </object>
        <script>
            const rocObj = document.querySelector("#roc-obj");
            rocObj.addEventListener("load", () => {
                const roc = rocObj.contentDocument.querySelector(':scope > [*|label="中華民國"]');
                provinces = [];
                for (let path of roc.querySelectorAll("path")) {
                    const label = path.getAttribute("inkscape:label");
                    const type = label.slice(-1);
                    if (type == "省" || type == "市" || type == "區" || type == "方") {
                        path.name = label;
                        provinces.push(path);
                    }
                }
                for (const province of provinces) {
                    province.style.fill = "white";
                    province.onmouseover = () => {
                        console.log(province.name);
                        province.style.strokeWidth = 2.5;
                    }
                    province.onmouseout = () => {
                        console.log("Leave " + province.name);
                        province.style.strokeWidth = 0.2;
                    }
                }
            });
        </script>
    </body>
</html>